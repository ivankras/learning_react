{"ast":null,"code":"import auth0 from 'auth0-js';\nexport default class Auth {\n  constructor() {\n    this.auth0 = new auth0.WebAuth({\n      domain: 'test-react-udemy.auth0.com',\n      clientID: '6o7ZtfIX4DOp43pboX9OLaRBlO1Ld8O5',\n      redirectUri: 'http://localhost:3000/callback',\n      responseType: 'token id_token',\n      scope: 'openid profile email'\n    });\n\n    this.login = () => {\n      this.auth0.authorize();\n    };\n\n    this.handleAuth = () => {\n      this.auth0.parseHash((err, authResult) => {\n        if (authResult) {\n          localStorage.setItem('access_token', authResult.accessToken);\n          localStorage.setItem('id_token', authResult.id_token);\n          let expiresAt = JSON.stringify(authResult.expiresIn * 1000 + new Date().getTime());\n          localStorage.setItem('expiresAt', expiresAt);\n        } else {\n          console.log(err);\n        }\n      });\n    };\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\ivan.krasowski\\Documents\\React\\app7 - Auth0\\src\\utils\\auth.js"],"names":["auth0","Auth","WebAuth","domain","clientID","redirectUri","responseType","scope","login","authorize","handleAuth","parseHash","err","authResult","localStorage","setItem","accessToken","id_token","expiresAt","JSON","stringify","expiresIn","Date","getTime","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,UAAlB;AAEA,eAAe,MAAMC,IAAN,CAAW;AAAA;AAAA,SACtBD,KADsB,GACd,IAAIA,KAAK,CAACE,OAAV,CAAkB;AACtBC,MAAAA,MAAM,EAAE,4BADc;AAEtBC,MAAAA,QAAQ,EAAE,kCAFY;AAGtBC,MAAAA,WAAW,EAAE,gCAHS;AAItBC,MAAAA,YAAY,EAAE,gBAJQ;AAKtBC,MAAAA,KAAK,EAAE;AALe,KAAlB,CADc;;AAAA,SAStBC,KATsB,GASd,MAAM;AACV,WAAKR,KAAL,CAAWS,SAAX;AACH,KAXqB;;AAAA,SAatBC,UAbsB,GAaT,MAAM;AACf,WAAKV,KAAL,CAAWW,SAAX,CAAqB,CAACC,GAAD,EAAMC,UAAN,KAAqB;AACtC,YAAIA,UAAJ,EAAgB;AACZC,UAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCF,UAAU,CAACG,WAAhD;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,UAAU,CAACI,QAA5C;AAEA,cAAIC,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAgBP,UAAU,CAACQ,SAAX,GAAqB,IAArB,GAA4B,IAAIC,IAAJ,GAAWC,OAAX,EAA5C,CAAhB;AACAT,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCG,SAAlC;AACH,SAND,MAMO;AACHM,UAAAA,OAAO,CAACC,GAAR,CAAYb,GAAZ;AACH;AACJ,OAVD;AAWH,KAzBqB;AAAA;;AAAA","sourcesContent":["import auth0 from 'auth0-js'\r\n\r\nexport default class Auth {\r\n    auth0 = new auth0.WebAuth({\r\n        domain: 'test-react-udemy.auth0.com',\r\n        clientID: '6o7ZtfIX4DOp43pboX9OLaRBlO1Ld8O5',\r\n        redirectUri: 'http://localhost:3000/callback',\r\n        responseType: 'token id_token',\r\n        scope: 'openid profile email'\r\n    })\r\n\r\n    login = () => {\r\n        this.auth0.authorize()\r\n    }\r\n\r\n    handleAuth = () => {\r\n        this.auth0.parseHash((err, authResult) => {\r\n            if (authResult) {\r\n                localStorage.setItem('access_token', authResult.accessToken)\r\n                localStorage.setItem('id_token', authResult.id_token)\r\n                \r\n                let expiresAt = JSON.stringify((authResult.expiresIn*1000 + new Date().getTime()))\r\n                localStorage.setItem('expiresAt', expiresAt)\r\n            } else {\r\n                console.log(err)\r\n            }\r\n        })\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}